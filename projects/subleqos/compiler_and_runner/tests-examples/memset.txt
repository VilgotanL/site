inline void memset(int* ptr, int val, int length) {
    asm {
        negVal negVal ?+1 val negVal ?+1
        A A ?+1 B B ?+1 C C ?+1
        negPtr negPtr ?+1 ptr negPtr ?+1
        negPtr A ?+1 negPtr B ?+1 negPtr C ?+1
        @-1 length ?+1
        
        check:
        @1 length after
        A:? B:? ?+1
        negVal C:? ?+1
        @-1 A ?+1 @-1 B ?+1 @-1 C ?+1
        @0 @0 check
        
        negVal:? negPtr:? after:
    }
}

for(int i=0; i<5; i++) {
    int arr = {65, 66, 67, 68};
    
    memset(arr+1, 69, i <= 3 ? i : 3);
    
    for(int i=0; i<len(arr); i++) true_io_putch arr[i];
    true_io_putch '\n';
}